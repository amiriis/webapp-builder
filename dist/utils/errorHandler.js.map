{"version":3,"file":"errorHandler.js","names":["_NotificationManager","_interopRequireDefault","require","obj","__esModule","default","errorSetting","dismissToastList","t","notification","exports","errorRequest","errorResponse","pushToastList","response","clearToken","isServerError","status","errorServer","isClientError","errorClient","Notifications","data","errorLogic","errorValidation","message","errorsMap","Object","keys","errors","errorsArray","map","item","index"],"sources":["../../src/lib/utils/errorHandler.js"],"sourcesContent":["import Notifications from \"../components/notifications/NotificationManager\";\r\n\r\nexport const errorSetting = (dismissToastList, t, notification) => {\r\n    if (notification) {\r\n        dismissToastList([\"pending\", \"warning\", \"error\", \"success\"])\r\n    }\r\n}\r\nexport const errorRequest = (dismissToastList, t, notification) => {\r\n    if (notification) {\r\n        dismissToastList([\"pending\", \"warning\", \"error\", \"success\"])\r\n    }\r\n}\r\n\r\nexport const errorResponse = (pushToastList, dismissToastList, response, clearToken, t, notification) => {\r\n    if (notification) {\r\n        dismissToastList([\"pending\", \"warning\", \"error\", \"success\"])\r\n    }\r\n    if (isServerError(response.status)) {\r\n        errorServer(pushToastList, response, t, notification)\r\n    } else if (isClientError(response.status)) {\r\n        errorClient(pushToastList, response, clearToken, t, notification)\r\n    }\r\n}\r\n\r\nconst errorServer = (pushToastList, response, t, notification) => {\r\n    if (notification) Notifications(pushToastList, \"warning\", t, response.status);\r\n}\r\nconst errorClient = (pushToastList, response, clearToken, t, notification) => {\r\n    switch (response.status) {\r\n        case 401:\r\n            clearToken()\r\n            if (notification) Notifications(pushToastList, \"error\", t, response.status);\r\n            break;\r\n        case 422:\r\n            if ('type' in response.data) {\r\n                errorLogic(pushToastList, response, t, notification)\r\n                break;\r\n            }\r\n            errorValidation(pushToastList, response, t, notification)\r\n            break;\r\n        case 429:\r\n            if (notification) Notifications(pushToastList, \"error\", t, response.status);\r\n            break\r\n        default:\r\n            if (notification) Notifications(pushToastList, \"error\", t, response.status);\r\n            break\r\n    }\r\n}\r\n\r\nconst isServerError = status => status >= 500 && status <= 599;\r\nconst isClientError = status => status >= 400 && status <= 499;\r\n\r\nconst errorLogic = (pushToastList, response, t, notification) => {\r\n    if (notification) Notifications(pushToastList, \"error\", t, response.status, response.data.message);\r\n}\r\nconst errorValidation = (pushToastList, response, t, notification) => {\r\n    if (notification) {\r\n        const errorsMap = Object.keys(response.data.errors)\r\n        const errorsArray = response.data.errors\r\n\r\n        errorsMap.map((item, index) => {\r\n            Notifications(pushToastList, \"error\", t, response.status, errorsArray[item][0]);\r\n        })\r\n    }\r\n}"],"mappings":"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"}